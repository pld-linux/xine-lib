--- xine-lib-1.2.3/src/post/planar/noise.c~	2012-02-05 20:17:02.000000000 +0100
+++ xine-lib-1.2.3/src/post/planar/noise.c	2015-03-09 19:48:57.305807701 +0100
@@ -37,7 +37,7 @@
 #  include <libavutil/mem.h>
 #endif
 
-#ifdef ARCH_X86_64
+#if defined(ARCH_X86_64) && !defined(__ILP32__)
 #  define REG_a  "rax"
 #  define intarch_t int64_t
 #else
--- xine-lib-1.2.6/src/post/deinterlace/plugins/greedy2frame_template_sse2.c.orig	2013-07-03 22:24:59.000000000 +0200
+++ xine-lib-1.2.6/src/post/deinterlace/plugins/greedy2frame_template_sse2.c	2015-10-08 19:13:42.005108442 +0200
@@ -174,8 +174,8 @@
         */
             "movdqa  (%2), %%xmm1		\n\t" /* xmm1 = T1 */
             "movdqa  (%3), %%xmm0		\n\t" /* xmm0 = T0 */
-            "movdqa  (%q4,%2), %%xmm3		\n\t" /* xmm3 = B1 */
-            "movdqa  (%q4,%3), %%xmm2		\n\t" /* xmm2 = B0 */
+            "movdqa  (%4,%2), %%xmm3		\n\t" /* xmm3 = B1 */
+            "movdqa  (%4,%3), %%xmm2		\n\t" /* xmm2 = B0 */
 
             /* calculate |T1-T0| keep T1 put result in xmm5 */
             "movdqa  %%xmm1, %%xmm5		\n\t"
@@ -192,11 +192,11 @@
             "pcmpgtb %0, %%xmm5			\n\t"
             "pcmpeqd %%xmm7, %%xmm5		\n\t"
 
-            "prefetcht0  64(%q4,%2)		\n\t"
-            "prefetcht0  64(%q4,%3)		\n\t"
+            "prefetcht0  64(%4,%2)		\n\t"
+            "prefetcht0  64(%4,%3)		\n\t"
           :
           : "m" (GreedyTwoFrameThreshold128),
-            "m" (*Destc), "r" (T1), "r" (T0), "r" (Pitch) );
+            "m" (*Destc), "r" (T1), "r" (T0), "r" ((size_t)Pitch) );
 
           asm volatile (
             /* calculate |B1-B0| keep B1 put result in xmm4 */

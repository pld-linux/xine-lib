--- xine-lib-1.2.3/src/post/planar/noise.c~	2012-02-05 20:17:02.000000000 +0100
+++ xine-lib-1.2.3/src/post/planar/noise.c	2015-03-09 19:48:57.305807701 +0100
@@ -37,7 +37,7 @@
 #  include <libavutil/mem.h>
 #endif
 
-#ifdef ARCH_X86_64
+#if defined(ARCH_X86_64) && !defined(__ILP32__)
 #  define REG_a  "rax"
 #  define intarch_t int64_t
 #else
# is it still needed?
#--- xine-lib-1.2.3/src/post/deinterlace/plugins/greedy2frame_template_sse2.c~	2012-06-30 20:02:39.000000000 +0200
#+++ xine-lib-1.2.3/src/post/deinterlace/plugins/greedy2frame_template_sse2.c	2015-03-09 20:01:38.315802192 +0100
#@@ -96,7 +96,7 @@
#                                          int bottom_field, int second_field,
#                                          int width, int height )
# {
#-#if defined(ARCH_X86) || defined(ARCH_X86_64)
#+#if defined(ARCH_X86) || (defined(ARCH_X86_64) && !defined(__ILP32__))
#     int Line;
#     int stride = width * 2;
#     register uint8_t* M1;
#--- xine-lib-1.2.3/src/post/deinterlace/plugins/greedy2frame.c~	2012-05-26 22:49:59.000000000 +0200
#+++ xine-lib-1.2.3/src/post/deinterlace/plugins/greedy2frame.c	2015-03-09 20:03:08.535801540 +0100
#@@ -59,6 +59,10 @@
#                                     int bottom_field, int second_field, int width, int height )
# 
# {
#+#if defined(ARCH_X86_64) && defined(__ILP32__)
#+        DeinterlaceGreedy2Frame_MMXEXT(output, outstride, data,
#+                                       bottom_field, second_field, width, height );
#+#else
#     if (xine_mm_accel() & MM_ACCEL_X86_SSE2) {
#         if (((uintptr_t)output & 15) || (outstride & 15) ||
#             width & 7 ||
#@@ -82,6 +86,7 @@
#                                        bottom_field, second_field, width, height );
#         /* could fall back to 3dnow/mmx here too */
#     }
#+#endif
# }
# 
# 
